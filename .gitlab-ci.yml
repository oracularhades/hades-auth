build:
    stage: build
    image: rust:latest
    script:
        - apt-get update
        - apt install -y tree zip
        - cd rust
        - cargo test
        - cargo package
        - cd target/package
        - find . -type f -name '*.crate' -delete
        - tree
        - mv hades_auth* /builds/oracularhades/output
        - zip -r /builds/oracularhades/output .
    artifacts:
        paths:
        - /builds/oracularhades/output.zip